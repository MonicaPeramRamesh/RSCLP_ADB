trigger:
- main

pool:
  name: Default   # Use your self-hosted agent pool

stages:
- stage: Build
  displayName: "Build Stage"
  jobs:
  - job: BuildJob
    displayName: "Build DLT Artifact"
    pool:
      name: Default                  # Your self-hosted agent pool
      demands:
        - agent.name -equals RSMAS-Agent
    steps:
      # 1️⃣ Use Python
      - task: UsePythonVersion@0
        inputs:
          versionSpec: '3.x'

      # 2️⃣ Install dependencies & optional lint/test
      - script: |
          pip install -r requirements.txt
          echo "✅ Dependencies installed"
          # Optional: run tests here
        displayName: "Install dependencies & test"

      # 3️⃣ Publish artifact for release pipeline
      - publish: .
        artifact: DLT_Artifact
        displayName: "Publish DLT Artifact"
